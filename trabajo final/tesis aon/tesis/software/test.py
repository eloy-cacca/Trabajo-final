import math
from prettytable import PrettyTable

lut = [0,51451,102778,153858,204567,254783,304385,353254,401272,448324,494295,539075,582557,624635,665209,704180,741455,776943,810560,842224,871859,899393,924761,947901,968757,987280,1003424,1017151,1028427,1037226,1043526,1047312,1048576,1047312,1043526,1037226,1028427,1017151,1003424,987280,968757,947901,924761,899393,871859,842224,810560,776943,741455,704180,665209,624635,582557,539075,494295,448324,401272,353254,304385,254783,204567,153858,102778,51451,0,-51452,-102779,-153859,-204568,-254784,-304386,-353255,-401273,-448325,-494296,-539076,-582558,-624636,-665210,-704181,-741456,-776944,-810561,-842225,-871860,-899394,-924762,-947902,-968758,-987281,-1003425,-1017152,-1028428,-1037227,-1043527,-1047313,-1048576,-1047313,-1043527,-1037227,-1028428,-1017152,-1003425,-987281,-968758,-947902,-924762,-899394,-871860,-842225,-810561,-776944,-741456,-704181,-665210,-624636,-582558,-539076,-494296,-448325,-401273,-353255,-304386,-254784,-204568,-153859,-102779,-51452]

def get_rms(freq, repetitions):
    index = freq / 50
    temp = 0
    accum = 0
    i = 0
    for _ in range(repetitions):
        accum += 1
        temp += (lut[i] >> 8) ** 2
        i += int(index)
        if i >= len(lut):
            i -= len(lut)

    rms = math.sqrt(temp / accum) / (2**12)
    return rms

freq_list = range(50, 2000, 50)
table = PrettyTable(["Freq", "RMS"])

for f in freq_list:
    rms = get_rms(f, 150)
    table.add_row([f, format(rms, ".5f")])

# print(table)
lut_total = [int((x * 10) / 2**20 + 50) for x in lut]
print(lut_total)

"""
Un index_result son 10 ciclos       = 0.2 s
Un trend_result son 15 index_result = 3 s

En total son 150 ciclos.
"""